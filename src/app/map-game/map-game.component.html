
<svg style="position: absolute;" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="100%"  version="1.1" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd"
viewBox="0 0 1600 900"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <g *ngIf="dialogs.sector" >
    <rect fill="rgba(163, 163, 163, 0.3)" stroke="black" stroke-width="2.36221" x="505" y="48" width="590.001" height="72"/>
    <text x="653" y="103"  fill="black" font-weight="normal" font-size="55.8083px" font-family="Arial">{{player.possition.sectorName}}</text>
</g>
</svg>







<svg #map xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="100%" version="1.1"
  shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd"
  clip-rule="evenodd" [attr.viewBox]="(player.possition.x-((viewpoint.width/2)/2)+ (player.size.width/2)) +' '+ (player.possition.y-((viewpoint.height/2)/2)+ (player.size.height/2))+' '+ viewpoint.width/2 +' '+ viewpoint.height/2" xmlns:xlink="http://www.w3.org/1999/xlink">
 
 
 

 
 
 
 
 
  <g *ngFor="let sector of world; let i = index"  >
      <image stroke="none" [attr.width]="1205" [attr.height]="1205" [attr.x]="sector.x" [attr.y]="sector.y" x='0' y='0' [attr.href]="'assets/svg/levels/elements/groundTextures/grass/0.svg'" />


  </g>



















  
   
  
  
    <g id="player" [attr.transform]='"translate("+player.possition.x+", "+player.possition.y+")"'  [attr.cx]="player.possition.x" [attr.cy]="player.possition.y" [attr.width]="player.size.width" [attr.height]="player.size.height" >
        <g id="eyebrows">
         <path *ngIf="key=='s' || key=='a' " id="Leyebrows" fill="#CCCCCC" d="M13 14c0,0 0,0 1,0 1,0 3,0 4,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,-1 0,-1 0,-1l0 0c0,0 0,0 0,0 0,0 -1,0 -1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 -1,0 -1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 -1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 -1,0 -1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 -1,0 -1,0 -1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,1 0,1 0,1 0,0 0,0 0,0z"/>
         <path *ngIf="key=='s' || key=='d' " id="Rewebrows" fill="#CCCCCC" d="M28 14c0,0 -1,0 -1,0 -2,0 -3,0 -5,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 1,-1 1,-1 1,-1l0 0c0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 1,0 1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 1,0 1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 1,0 0,0 1,0 0,0 0,0 0,0 0,0 0,0 1,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,1 0,1 0,1 0,0 0,0 0,0z"/>
        </g>
        <g id="foots">
         <rect *ngIf="foot  % 4 === 1 && (key=='w' || key=='s') " fill="none" stroke="black" stroke-width="2.36225" x="12" y="34" width="5.09874" height="3.64294"/>
         <rect *ngIf="foot  % 4 === 0 && (key=='w' || key=='s') " fill="none" stroke="black" stroke-width="2.36225" x="22" y="34" width="5.09874" height="3.64294"/>
        
         <rect *ngIf="foot  % 4 === 1 && (key=='a' ||  key=='d') " fill="none" stroke="black" stroke-width="2.36225" x="19.5" y="34" width="5.09874" height="3.64294"/>
         <rect *ngIf="foot  % 4 === 0 &&  (key=='a' ||  key=='d') " fill="none" stroke="black" stroke-width="2.36225" x="15.5" y="34" width="5.09874" height="3.64294"/>

         
        </g>

        <g id="cloke">
            <path id="cloke_0" fill="#663333" d="M11 19c-1,0 0,4 -1,4 0,1 0,2 0,2 0,0 -2,4 -2,5 0,0 0,-1 0,0 0,0 -1,1 -1,1 0,0 -3,4 1,5 1,0 0,0 2,0 2,0 19,0 19,0 1,0 0,0 1,0 0,0 1,0 2,0 1,0 -1,-1 0,-1 0,0 1,0 1,0 -1,0 0,-1 -1,-2 0,0 -1,0 -1,-1 0,0 0,0 0,0l0 -1c-1,-1 -1,0 -1,-1 -1,0 -1,-2 -1,-2 0,-1 -1,-1 -1,-2 0,0 -1,-1 -1,-2 0,0 0,0 0,-1 0,0 0,0 0,1 -1,0 0,-4 -1,-4 0,1 -3,2 -3,2 0,1 -1,0 -1,0 -1,1 -4,1 -5,1 -1,0 -2,0 -2,0l0 -1c0,0 0,1 -1,0 0,0 0,-1 -1,-1 0,0 0,0 0,0 -1,-1 -1,-1 -1,-1l-1 -1z"/>
            <path *ngIf="key=='s' " fill="#F5E5B2" d="M17 23c0,0 0,1 0,1l-1 1c0,0 0,1 0,1l0 1c0,1 0,1 0,1l0 1c0,0 0,1 0,1l0 1c-1,0 0,0 -1,1 0,0 0,0 0,1 0,0 0,1 0,1 0,0 -1,1 -1,1 0,0 0,0 0,1 0,0 0,0 0,0 0,0 0,0 0,0 1,0 7,0 7,0 0,0 0,0 1,0 0,0 1,0 1,0 0,0 0,0 0,0 0,0 1,0 1,0 0,0 0,0 0,0 0,0 0,0 1,0 0,0 0,0 0,0 0,0 0,-1 0,-1 0,0 0,0 0,-1 0,0 0,0 -1,-1 0,0 0,0 0,0 0,-1 0,0 0,-1 0,0 0,0 0,0 0,-1 0,0 0,-1 0,0 0,0 0,-1 0,0 0,1 0,0 0,0 -1,0 -1,-1 0,0 0,0 0,0 0,-1 0,-1 0,-1 0,0 0,0 0,-1 0,0 0,-1 0,-1 0,0 0,0 0,0 0,0 0,-1 0,-1 -1,0 -1,0 -1,0 0,0 0,0 0,-1 0,0 0,1 0,0 0,0 0,0 0,0 0,-1 0,-1 0,-1 0,0 0,0 0,0 0,0 0,0 0,0 0,0 -1,0 -1,0 -1,0 -1,0 -1,0 -1,0 -1,0 -1,0 0,0 -2,0 -2,0 0,0 0,0 0,0 0,-1 0,-1 0,0z"/>
           </g>

        <g id="head">
        
         <circle id="headshape" fill="#EAB686" cx="20" cy="15" r="14"/>
         <ellipse  *ngIf="key=='s' || key=='d' "  fill="black" cx="26" cy="17" rx="1" ry="2"/>
         <ellipse *ngIf="key=='s' || key=='a' " fill="black" cx="15" cy="17" rx="1" ry="2"/>
        </g>
       </g>
  








       <g *ngFor="let sector of world; let i = index"  >

          <g *ngFor="let collon of sector.top; let i2 = index">
              <g *ngFor="let block of collon; let i3 = index">

                      <image *ngIf="block.value.fyleType" [attr.x]="(sector.x+block.x)-(block.value.width/2)" [attr.y]="(sector.y+block.y)-(block.value.heigth/2)" stroke="none" [attr.fill]="block.fill ? block.fill : 'white'"
                      [attr.width]="320" [attr.height]="320" stroke-width="1"  [attr.href]="'assets/svg/levels/elements/'+block.value.group+'/'+block.value.path+'/'+block.value.id+'.'+block.value.fyleType" />
                     
              </g>
          </g>
    
    
      </g>

      
      <g *ngFor="let hitbox of Allhitboxes; let i = index"  >

       <rect  fill="none"   [attr.height]="hitbox.height" [attr.width]="hitbox.width" fill="none" stroke="#33CC33" stroke-width="2.36222" [attr.x]="hitbox.x"[attr.y]="hitbox.y" width="26.0092" height="24.9993"/>

      </g>








  
  
    <filter id="grayscale">
    <feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0" />
  </filter>









</svg>
